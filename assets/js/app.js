!function(){var r,n,o,c,s,e,a,t,u,d,m;function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var f,_=document.querySelectorAll(".product-cart__slider-slide"),v=document.querySelector(".product-cart__img"),l=function(e){var t,r,n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(r="Object"===r&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(e)))return n&&(e=n),t=0,{s:r=function(){},n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:r};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw o}}}}(_);try{for(l.s();!(f=l.n()).done;)!function(){var t=f.value;t.addEventListener("click",function(e){e=e.target.previousElementSibling.src;v.src=e,t.classList.contains("active-slide")?t.classList.remove("active-slide"):(_.forEach(function(e){e.classList.remove("active-slide")}),t.classList.add("active-slide"))})}()}catch(i){l.e(i)}finally{l.f()}function y(e){e.classList.toggle("open-select")}r=document.querySelector(".header"),n=0,document.addEventListener("scroll",function(e){var t=document.documentElement.scrollTop;t>r.offsetHeight&&n<t?r.classList.add("hidden"):r.classList.remove("hidden"),n=t}),o=document.querySelector(".nav__mobile"),c=function(){o.classList.toggle("show-menu")},document.addEventListener("click",function(e){var t=e.target;t.closest(".mobile__menu")||t.closest(".nav__mobile-close")?(e.preventDefault(),c()):!t.closest(".nav__mobile")&&o.classList.contains("show-menu")&&c()}),e=document.querySelector(".order__count-wrapper"),a=document.querySelector(".order__count-input"),e.addEventListener("click",function(e){e=e.target;e.classList.contains("order__count-plus")&&(a.value++,5<a.value&&(a.value=5)),e.classList.contains("order__count-mines")&&(a.value--,a.value<0&&(a.value=0))}),e=document.querySelector(".parameters__select__wrapper"),t=document.querySelector(".parameters__select"),e.addEventListener("click",function(e){var e=e.target;e.classList.contains("parameters__select")&&y(t),e.classList.contains("parameters__select-item")&&(e=e.innerText,t.innerText=e,y(t))}),e=document.querySelector(".order__buy"),u=document.querySelector(".product-cart__title").innerText,e.addEventListener("click",function(e){var e=e.target,t=document.querySelectorAll(".notification__message");e.closest(".order__btn-basket")&&m(e,a.value,u),e.closest(".order__btn-favorite")&&(e.closest(".order__btn-favorite").classList.toggle("add__favorite"),m(e,a.value,u)),t.length&&t.forEach(function(e){d(e)})}),d=function(e){setTimeout(function(){e.style.opacity="0",setTimeout(function(){e.remove()},300)},3e3)},m=function(e,t,r){var n=document.createElement("div");n.className="notification__message",e.closest(".order__btn-basket")&&(n.innerHTML=0!=t?"Товар <b>".concat(r,"</b> в количестве ").concat(t," единиц добавлен в корзину"):"Выберите нужное количество товара!"),e.closest(".order__btn-favorite")&&(e.closest(".add__favorite")?n.innerHTML="Товар <b>".concat(r,"</b> добавлен в избранное"):n.innerHTML="Товар <b>".concat(r,"</b> убран из избранного")),document.querySelector(".notification__container").appendChild(n),d(n)},e=document.getElementById("send"),s=document.querySelector(".footer__form-input"),document.querySelector(".footer__form-icon").addEventListener("click",function(){s.value="",s.classList.contains("error")?(document.querySelector(".footer__form-message").remove(),s.classList.remove("error")):s.classList.contains("success")&&s.classList.remove("success")}),e.addEventListener("click",function(e){var t;e.preventDefault(),/^\w+@\w+\.\w{2,}$/.test((e=s).value)?(e.classList.add("success"),e.classList.remove("error"),(t=document.querySelector(".footer__form-message"))&&t.remove()):(e.classList.remove("success"),e.classList.add("error"),document.querySelector(".footer__form-message")||(t=e,(e=document.createElement("div")).classList.add("footer__form-message"),e.innerText="Email должен иметь вид name@name.com",t.after(e)))})}();